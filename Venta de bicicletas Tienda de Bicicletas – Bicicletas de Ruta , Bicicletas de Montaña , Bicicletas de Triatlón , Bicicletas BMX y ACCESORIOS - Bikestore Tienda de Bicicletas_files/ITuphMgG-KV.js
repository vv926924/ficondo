if (self.CavalryLogger) { CavalryLogger.start_js(["SWibd"]); }

__d("LivechatPluginGuestMessageThreadQueryContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data",type:"GuestMessageThreadQueryParams!"}],b=[{kind:"Variable",name:"data",variableName:"data"}],c={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null},f={alias:"last_read_receipt",args:[{kind:"Literal",name:"last",value:1}],concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:"action",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},{alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null}],storageKey:null}],storageKey:"read_receipts(last:1)"},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},j={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},m={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"message_thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null},p={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"is_user_generated",storageKey:null},s=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],t={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:s,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},x={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[u,v,w],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},z={kind:"InlineFragment",selections:[x,y],type:"MessageImage",abstractKey:null};x={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},y,x],type:"MessageVideo",abstractKey:null};var A={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null};s={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:s,storageKey:null};u=[u,w,v];w={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:u,storageKey:null};v={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:u,storageKey:null};u={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null};var D={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[w,v,u],storageKey:null},E=[g],F=[g,{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null}],G={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:F,storageKey:null};y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"template_type",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"image_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},G,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[G,{alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:F,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null}],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null};G={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};F={kind:"InlineFragment",selections:E,type:"Node",abstractKey:"__isNode"};w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[G,w,v,u,F,{kind:"InlineFragment",selections:E,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:E,type:"MontageVideo",abstractKey:null},{kind:"InlineFragment",selections:E,type:"GenericAttachmentMedia",abstractKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LivechatPluginGuestMessageThreadQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"guest_message_thread",plural:!1,selections:[c,d,e,f,{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[h,i,j,k,l,m,n,o,p,q,r,{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[z,x],storageKey:null},A,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[g,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[B,C,s,D,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:E,storageKey:null}],storageKey:null},B,C,s,D,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[g,y],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LivechatPluginGuestMessageThreadQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"guest_message_thread",plural:!1,selections:[c,d,e,f,{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[G,h,i,j,k,l,m,n,o,p,q,r,{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[G,z,x,F],storageKey:null},A,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[g,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[B,C,s,w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[G,g],storageKey:null}],storageKey:null},B,C,s,w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[G,g,y],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage",abstractKey:null},F],storageKey:null}],storageKey:null},g],storageKey:null}]},params:{id:"2966286463461274",metadata:{},name:"LivechatPluginGuestMessageThreadQueryContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("LiveChatPluginContinueAsGuestButton.react",["cx","fbt","LiveChatPluginContext","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.isGuestLoginSupported;a=a.pageID;c&&b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_continue_as_guest_button_rendered",a,null,null,null,null)};d.render=function(){var a=this.context.state,c=a.isGuestLoginSupported;a=a.error;var d=h._("Continuar como invitado");return c&&i.jsx("div",{className:"_8kkd"+(a?" _8rna":""),children:i.jsx(b("LiveChatPluginPromptButton.react"),{hasIcon:!1,onClick:this.props.onContinueAsGuestClick,text:d})})};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginPromptHeader.react",["cx","Image.react","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","PrivacyTransparentOverlay.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context.state,c=a.pageName,d=a.isBusinessActive,e=a.pageResponsivenessText;a=a.pageProfilePictureUri;e=e!=null?"\u30fb"+e:null;return h.jsxs("div",{className:"promptHeaderContainer",children:[h.jsx("div",{className:"promptHeaderCloseButtonContainer",children:h.jsx(b("ShimButton.react"),{className:"_2t-5",onClick:this.props.onCloseButtonClick,children:h.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),h.jsx("div",{className:"profilePictureContainer",children:h.jsxs(b("PrivacyTransparentOverlay.react"),{children:[h.jsx(b("Image.react"),{className:"profilePicture",src:a}),d?h.jsx("div",{className:"_8eiw"}):null]})}),h.jsxs("div",{className:"promptHeaderAndBubbleContainer",children:[h.jsxs(b("LineClamp.react"),{className:"promptHeaderText",lines:2,children:[h.jsx("strong",{children:c}),e]}),this.props.greetingTextElem]})]})};return c}(h.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginAnonymousUserPrompt.react",["cx","fbt","FDSLink.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","LiveChatPluginUtils","MessengerTextWithEntities.react","PluginDOMEventListener","PluginOptin","React","ReactDOM","XCookiesPolicyController","XDataPolicyController","XTermsController","gkx","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.anonPromptRef=i.createRef(),d.footerRef=i.createRef(),d.headerRef=i.createRef(),d.$3=function(){var a=d.context.state,c=a.viewerID,e=a.pageID;a=a.isGuestLoginSupported;b("LiveChatPluginUtils").getIsSafari12OrAbove()&&location.reload();d.$4();b("LiveChatPluginLoggerUtil").logAction("customer_chat_log_in_to_messenger_clicked",c,e);var f={button_name:"login_as"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,e,a?"welcome_page_with_guest_option":"welcome_page",f)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.pageID,d=a.pluginMountTime,e=a.serverTime;a=a.isGuestLoginSupported;this.$1();var f=b("ReactDOM").findDOMNode(this.anonPromptRef.current);f!==null&&b("PluginDOMEventListener").add(f,"click",function(a){});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_anonymous_chat_now_prompt_rendered",c,null,null,null,null,d,e);b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",c,a?"welcome_page_with_guest_option":"welcome_page",d,a?["log_in_messenger","continue_as_guest"]:["log_in_messenger"])};d.componentDidUpdate=function(a){(!b("shallowCompare")(this,a)||this.context.state.error)&&this.$1()};d.render=function(){var a=this.context.state,c=a.pageName,d=a.isGuestLoginSupported;a=a.pageID;try{var e=h._("Iniciar sesi\u00f3n en Messenger"),f=b("gkx")("1189683"),g=b("XTermsController").getURIBuilder().getURI(),j=b("XDataPolicyController").getURIBuilder().getURI(),k=b("XCookiesPolicyController").getURIBuilder().getURI();return i.jsxs("div",{ref:this.anonPromptRef,className:"_j68",children:[i.jsx(b("LiveChatPluginPromptHeader.react"),{ref:this.headerRef,greetingTextElem:this.$2(),onCloseButtonClick:this.props.onCloseButtonClick}),i.jsxs("div",{className:"promptFooterContainer",ref:this.footerRef,children:[i.jsx(b("LiveChatPluginPromptButton.react"),{color:this.context.state.threadColor,onClick:this.$3,text:e}),i.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{onContinueAsGuestClick:this.props.onContinueAsGuestClick}),this.context.state.error?i.jsx("div",{className:"_8roq",children:h._("La funci\u00f3n para continuar como invitado no est\u00e1 disponible temporalmente. Vuelve a intentarlo o usa otro navegador.")}):null,i.jsx("div",{className:"subButtonText",children:d?f?h._("Al continuar como invitado, aceptas las {=Facebook's Terms}. Obt\u00e9n m\u00e1s informaci\u00f3n sobre c\u00f3mo recopilamos, usamos y compartimos tus datos en la {=Data Policy}, as\u00ed como el uso que hacemos de las cookies y tecnolog\u00edas similares en la {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Condiciones de Facebook")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Pol\u00edtica de datos")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:k,target:"_blank",children:h._("Pol\u00edtica de cookies")}))]):h._("Al continuar como invitado, aceptas las {=Facebook's Terms}, la {=Data Policy} y la {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Condiciones de Facebook")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Pol\u00edtica de datos")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:k,target:"_blank",children:h._("Pol\u00edtica de cookies")}))]):h._("Chatea con {page name} en Messenger",[h._param("page name",c)])})]})]})}catch(c){b("LiveChatPluginLoggerUtil").logNewImpressionExceptions("tab_load_failure",a,d?"welcome_page_with_guest_option":"welcome_page",c.name,c.message,c.stack)}};d.$2=function(){if(this.context.state.loggedOutGreeting!=null)return i.jsx(b("MessengerTextWithEntities.react"),{className:"promptTextBubble",renderEmoji:!0,renderEmoticons:!0,text:this.context.state.loggedOutGreeting});else return i.jsx("div",{className:"promptTextBubble",children:b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT})};d.$4=function(){var a=this.context.state,c=a.refererUri;a=a.pageID;new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:a,switch_user:!1}).addReturnParams({customer_chat_origin_uri:c,referer_uri:c}).start()};d.$1=function(){var a=b("ReactDOM").findDOMNode(this.headerRef.current),c=b("ReactDOM").findDOMNode(this.footerRef.current);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.scrollHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};return c}(i.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginInformationButtonSVG.react",["LiveChatPluginContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsx("g",{transform:"translate(-413.000000, -56.000000)",children:g.jsx("g",{transform:"translate(90.000000, 44.000000)",children:g.jsx("g",{children:g.jsx("g",{children:g.jsxs("g",{transform:"translate(324.000000, 13.000000)",children:[g.jsx("circle",{fill:this.props.informationViewOpen?this.context.state.threadColor:"#FFFFFF",stroke:this.context.state.threadColor,cx:"11",cy:"11",r:"11"}),g.jsx("path",{d:"M11,9 L12,9 L12,17 L13,17 L13,17.5 L9,17.5 L9,17 L10,17 L10,9.5 L9,9.5 L9,9 L11,9 Z M11,4.5 C11.8284271,4.5 12.5,5.17157288 12.5,6 C12.5,6.82842712 11.8284271,7.5 11,7.5 C10.1715729,7.5 9.5,6.82842712 9.5,6 C9.5,5.17157288 10.1715729,4.5 11,4.5 Z",fill:this.props.informationViewOpen?"#FFFFFF":this.context.state.threadColor})]})})})})})})})};return b}(g.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginDialogHeader.react",["cx","Badge.react","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","LiveChatPluginInformationButtonSVG.react","React","ShimButton.react","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=(a=b("qex")._("1073863"))!=null?a:!1;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null,c=this.context.state,d=c.pageName,e=c.verifiedStatus,f=c.pageResponsivenessText;c=c.autolaunchInternal;switch(e){case"blue_verified":a=h.jsx(b("Badge.react"),{type:"verified",size:"medium"});break;case"gray_verified":a=h.jsx(b("Badge.react"),{type:"page_gray_check_solid",size:"medium"});break}return h.jsxs("div",{className:"_f_0",children:[h.jsx("div",{className:"_1qd1",children:!c&&h.jsx(b("ShimButton.react"),{className:"_2t-5 _4bqf",onClick:this.props.onCloseButtonClick,children:h.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),h.jsxs("div",{className:"_hov",children:[h.jsxs(b("LineClamp.react"),{className:"_how",lines:1,children:[d,i?h.jsx("span",{className:"_8gqm",children:a}):null]}),h.jsx(b("LineClamp.react"),{className:"_hox",lines:1,children:f})]}),h.jsx("div",{className:"_1qd3",children:h.jsx(b("ShimButton.react"),{className:"_4bqf _17l7",onClick:this.props.onInformationButtonClick,children:h.jsx(b("LiveChatPluginInformationButtonSVG.react"),{informationViewOpen:this.props.informationViewOpen})})})]})};return c}(h.PureComponent);c.contextType=b("LiveChatPluginContext");e.exports=c}),null);
__d("LiveChatPluginLoggedInMobileInterstitial.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","PluginOptin","React","ShimButton.react","XMNLiveChatConnectController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.onContinueAsGuestClick();var a=d.context.state,c=a.viewerID;a=a.pageID;b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,a,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},d.$2=function(){var a=d.context.state,c=a.viewerID,e=a.pageID;a=a.isGuestLoginSupported;var f=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",e).getURI();d.$1=new(b("AsyncRequest"))().setURI(f).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d.props.onChatNowClick);d.$1.send();b("LiveChatPluginLoggerUtil").logAction("customer_chat_mobile_interstitial_continue_as_clicked",c,e);b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,e,a?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"})},d.$4=function(){var a=d.context.state,c=a.refererUri,e=a.viewerID,f=a.pageID;a=a.isGuestLoginSupported;new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:f,switch_user:!0}).addReturnParams({referer_uri:c}).start();b("LiveChatPluginLoggerUtil").logAction("customer_chat_not_you_clicked",e,f);b("LiveChatPluginLoggerUtil").logNewAction("tab_click",e,f,a?"welcome_page_with_guest_option":"welcome_page",{button_name:"switch_account"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.componentDidMount=function(){var a=this.context.state,c=a.pageID,d=a.pluginMountTime;a=a.isGuestLoginSupported;b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_logged_in_mobile_interstitial_rendered",this.context.state.pageID);b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",c,a?"welcome_page_with_guest_option":"welcome_page",d,a?["continue_as","not_you_switch_account","continue_as_guest"]:["continue_as","not_you_switch_account"])};d.render=function(){var a=this.context.state,c=a.pageName,d=a.pageID,e=a.isGuestLoginSupportedMobile,f=a.isGuestLoginSupported;a=a.loggedInGreeting;try{return j.jsxs("div",{className:"_6k7_",children:[j.jsx("div",{className:"_6k80",children:j.jsx(b("ShimButton.react"),{className:"_4bqf _2t-5",onClick:this.props.onCloseButtonClick,children:j.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),j.jsxs("div",{className:"_6taj",children:[j.jsx("div",{className:"_6i-9",children:c}),a?a:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT]}),j.jsxs("div",{className:"_6k81",children:[j.jsx("div",{className:"_6k82",children:j.jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{})}),j.jsxs("div",{className:"_6k83",children:[h._("Chat de {name}",[h._param("name",c)]),j.jsx("br",{}),h._("Con la tecnolog\u00eda de Messenger")]}),j.jsxs(b("ShimButton.react"),{className:"_6k84",onClick:this.$2,children:[j.jsx(b("Image.react"),{className:"_6k85",src:i("86959")}),h._("Continuar como {user name}",[h._param("user name",b("CurrentUser").getName())])]}),e&&f&&j.jsx("div",{className:"_8t7u",children:j.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{onContinueAsGuestClick:this.$3})}),j.jsx(b("ShimButton.react"),{className:"_6k86",onClick:this.$4,children:h._("Cambiar de cuenta")})]})]})}catch(a){b("LiveChatPluginLoggerUtil").logNewImpressionExceptions("tab_load_failure",d,f?"welcome_page_with_guest_option":"welcome_page",a.name,a.message,a.stack)}};return c}(j.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginLoggedInUserPrompt.react",["cx","fbt","Arbiter","AsyncRequest","CurrentUser","FDSLink.react","Link.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","MessengerTextWithEntities.react","Plugin","PluginOptin","React","ReactDOM","XCookiesPolicyController","XDataPolicyController","XMNLiveChatConnectController","XTermsController","gkx","setTimeout","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.footerRef=i.createRef(),d.headerRef=i.createRef(),d.$6=function(){var a=d.context.state,c=a.refererUri,e=a.viewerID,f=a.pageID;a=a.isGuestLoginSupported;new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:f,switch_user:!0}).addReturnParams({referer_uri:c}).start();b("LiveChatPluginLoggerUtil").logAction("customer_chat_not_you_clicked",e,f);c={button_name:"not_you"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",e,f,a?"welcome_page_with_guest_option":"welcome_page",c);b("setTimeout")(function(){location.reload()},500)},d.$5=function(){var a=d.context.state,c=a.isFacebookApp,e=a.canSkipContinuousAs,f=a.pageID,g=a.viewerID,h=a.hasMessagingPermission;a=a.isGuestLoginSupported;if(!b("CurrentUser").isLoggedInNow())return;if(h)d.props.onChatNowClick();else if(e||c){h=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",f).getURI();d.$1=new(b("AsyncRequest"))().setURI(h).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d.props.onChatNowClick);d.$1.send()}else new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:f,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1}).start(),b("Arbiter").subscribe(b("Plugin").CONNECT,d.props.onChatNowClick);b("LiveChatPluginLoggerUtil").logActionDEPRECATED("chat_now_clicked",g,f);b("LiveChatPluginLoggerUtil").logAction("customer_chat_chat_now_clicked",g,f);e={button_name:"continue_as"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",g,f,a?"welcome_page_with_guest_option":"welcome_page",e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.pageID,d=a.pluginMountTime,e=a.serverTime;a=a.isGuestLoginSupported;this.$2();b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_logged_in_chat_now_prompt_rendered",c,JSON.stringify({hasMessagingPermission:this.context.state.hasMessagingPermission}),null,null,null,d,e);b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",c,a?"welcome_page_with_guest_option":"welcome_page",d,a?["continue_as","not_you_switch_account","continue_as_guest"]:["continue_as","not_you_switch_account"])};d.componentDidUpdate=function(a){b("shallowCompare")(this,a)||this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.render=function(){var a=this.context.state,c=a.isGuestLoginSupported;a=a.pageID;var d=this.$3(),e=b("gkx")("1189683"),f=b("XTermsController").getURIBuilder().getURI(),g=b("XDataPolicyController").getURIBuilder().getURI(),j=b("XCookiesPolicyController").getURIBuilder().getURI();try{return i.jsxs("div",{className:"_j68",children:[i.jsx(b("LiveChatPluginPromptHeader.react"),{ref:this.headerRef,greetingTextElem:this.$4(),onCloseButtonClick:this.props.onCloseButtonClick}),i.jsx("div",{className:"fillerDiv"}),i.jsxs("div",{className:"promptFooterContainer",ref:this.footerRef,children:[i.jsx(b("LiveChatPluginPromptButton.react"),{color:this.context.state.threadColor,onClick:this.$5,text:d}),i.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{onContinueAsGuestClick:this.props.onContinueAsGuestClick}),i.jsx(b("Link.react"),{className:"_4bqf notYouLink",onClick:this.$6,children:h._("\u00bfNo eres t\u00fa? Iniciar sesi\u00f3n en Messenger")}),i.jsx("div",{className:"subButtonText",children:c?e?h._("Al continuar como invitado, aceptas las {=Facebook's Terms}. Obt\u00e9n m\u00e1s informaci\u00f3n sobre c\u00f3mo recopilamos, usamos y compartimos tus datos en la {=Data Policy}, as\u00ed como el uso que hacemos de las cookies y tecnolog\u00edas similares en la {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:f,target:"_blank",children:h._("Condiciones de Facebook")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Pol\u00edtica de datos")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Pol\u00edtica de cookies")}))]):h._("Al continuar como invitado, aceptas las {=Facebook's Terms}, la {=Data Policy} y la {=Cookies Policy}.",[h._param("=Facebook's Terms",i.jsx(b("FDSLink.react"),{href:f,target:"_blank",children:h._("Condiciones de Facebook")})),h._param("=Data Policy",i.jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Pol\u00edtica de datos")})),h._param("=Cookies Policy",i.jsx(b("FDSLink.react"),{href:j,target:"_blank",children:h._("Pol\u00edtica de cookies")}))]):null})]})]})}catch(d){b("LiveChatPluginLoggerUtil").logNewImpressionExceptions("tab_load_failure",a,c?"welcome_page_with_guest_option":"welcome_page",d.name,d.message,d.stack)}};d.$3=function(){var a=b("CurrentUser").getShortName();return a!==null?h._("Continuar como {first name}",[h._param("first name",a)]):h._("Continuar")};d.$4=function(){var a=this.context.state.loggedInGreeting;if(a!=null)return i.jsx("div",{className:"promptTextBubble",children:i.jsx(b("MessengerTextWithEntities.react"),{className:"truncateOverflow",renderEmoji:!0,renderEmoticons:!0,text:a})});else return i.jsx("div",{className:"promptTextBubble",children:i.jsx("div",{className:"truncateOverflow",children:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT})})};d.$2=function(){var a=b("ReactDOM").findDOMNode(this.headerRef.current),c=b("ReactDOM").findDOMNode(this.footerRef.current);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.scrollHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};return c}(i.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginAttachmentInput.react",["cx","InlineBlock.react","LiveChatPluginAttachmentUploadClient","LiveChatPluginContext","LiveChatPluginLoggerUtil","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.context.state,c=a.viewerID;a=a.pageID;b("LiveChatPluginLoggerUtil").logAction("customer_chat_attachment_button_clicked",c,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("LiveChatPluginAttachmentUploadClient"))(this.props.updateComposerAttachmentsAndIDs,this.props.setComposerAttachmentError,this.props.pageID,this.props.viewerID)};d.componentWillUnmount=function(){this.$1.destroy()};d.render=function(){var a=this;return h.jsx(b("InlineBlock.react"),{className:"_64mk _2ez5",onClick:this.$2,children:h.jsx("input",{accept:"application/msword, application/pdf, text/csv, text/plain, image/*, video/*",className:"_2ez6",multiple:!0,name:"attachment[]",onChange:function(b){a.$3(b)},ref:"fileInput",title:"Add Files",type:"file"})})};d.$3=function(a){this.$1.onSubmitFileList(a.target.files),a.target.value=""};d.removeAttachment=function(a){this.$1.removeAttachment(a)};d.removeAllAttachments=function(){this.$1.removeAllAttachments()};return c}(h.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginBotMenuButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:g.jsxs("g",{fill:this.props.threadColor,children:[g.jsx("rect",{x:"2",y:"3",width:"20",height:"1"}),g.jsx("rect",{x:"2",y:"11",width:"20",height:"1"}),g.jsx("rect",{x:"2",y:"19",width:"20",height:"1"})]})})})};return b}(g.Component);e.exports=a}),null);
__d("LiveChatPluginArrowButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.direction==="left"?g.jsx("g",{fill:this.props.threadColor,children:g.jsx("polygon",{points:"5.5 12 16 1.5 18 3.5 9.5 12 18 20.5 16 22.5"})}):g.jsx("g",{fill:this.props.threadColor,children:g.jsx("polygon",{points:"8 7 9.5 5.5 16 12 9.5 18.5 8 17 13 12"})});return g.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:g.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a})})};return b}(g.Component);e.exports=a}),null);
__d("LiveChatPluginBotMenuDialog.react",["cx","fbt","Link.react","LiveChatPluginArrowButtonSVG.react","LiveChatPluginContext","LiveChatPluginLoggerUtil","MercuryIDs","MNCommercePostbackCTADataManager","React","ShimButton.react","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.state={navigationPath:[]};e.$9=function(){var a=e.context.state,c=a.viewerID,d=a.pageID;a=a.isAnonymousViewer;e.props.closeDialogFn();b("LiveChatPluginLoggerUtil").logAction("customer_chat_bot_menu_url_redirect_clicked",c,d);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",c,d,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:"customer_chat_bot_menu_url_redirect_clicked"})};e.$1=b("LiveChatPluginLoggerUtil").getAttributionTags();e.$2=b("MercuryIDs").getThreadIDFromUserID(e.context.state.pageID);return e}var d=c.prototype;d.render=function(){var a=this,b=null,c=[],d=this.props.menuItems;for(var e=0;e<this.state.navigationPath.length;e++){var f=this.state.navigationPath[e];d!=null&&(b=d[f].title,d=d[f].nested_ctas)}c=d&&d.map(function(c,b){return a.$3(c,b)});return i.jsxs("div",{className:"_6d42",children:[this.$4(b||h._("Men\u00fa")),c]})};d.$4=function(a){var c=this,d=this.state.navigationPath.length!==0?i.jsx(b("Link.react"),{className:"_4bqf _6d43",onClick:function(a){c.setState(function(a){return{navigationPath:a.navigationPath.slice(0,-1)}})},children:i.jsx(b("LiveChatPluginArrowButtonSVG.react"),{direction:"left",threadColor:this.context.state.threadColor})}):null;return i.jsxs("div",{className:"_6d44 _6d45",children:[d,a]})};d.$3=function(a,b){var c;switch(a.action_type){case 4:c=this.$5(a);break;case 2:c=this.$6(a);break;case 11:c=this.$7(a,b);break;default:c=this.$8(a);break}return i.jsx("div",{className:"_6d46",children:i.jsx("div",{className:"_6d45 _4bqf",children:c})},a.id)};d.$8=function(a){return i.jsx(b("Tooltip.react"),{className:"_6d47",tooltip:h._("Usa la aplicaci\u00f3n de Messenger para utilizar esta funci\u00f3n."),children:a.title})};d.$6=function(a){return i.jsx(b("Link.react"),{className:"_6d48",href:a.action_link,onClick:this.$9,style:{color:this.context.state.threadColor},target:"_blank",children:a.title})};d.$7=function(a,c){var d=this,e=this.context.state.threadColor,f=function(a){d.setState(function(a){return{navigationPath:a.navigationPath.concat(c)}})};return i.jsxs(b("ShimButton.react"),{className:"_6d49",onClick:f,children:[i.jsx(b("Link.react"),{style:{color:e},children:a.title}),i.jsx("div",{className:"_6d4a",children:i.jsx(b("LiveChatPluginArrowButtonSVG.react"),{direction:"right",threadColor:e})})]})};d.$5=function(a){var c=this,d=this.context.state,e=d.viewerID,f=d.pageID,g=d.threadColor,h=d.isAnonymousViewer;d=function(d){c.props.closeDialogFn();if(!c.context.state.isAnonymousViewer)b("MNCommercePostbackCTADataManager").sendAndConfirm(a.id,a.title||"",c.$2,null,null,null,c.$1,null,"CUSTOMER_CHAT_PLUGIN","source:discovery:customer_chat_plugin");else{d=c.context.state.messageStore;d=d.sendQueue;if(!d)return;d.enqueueAndSend(a.title||"",d.makePlatformTokenForPostbackCTA(a.id))}b("LiveChatPluginLoggerUtil").logAction("customer_chat_bot_menu_postback_clicked",e,f);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",e,f,h?"guest_chat_tab":"logged_in_chat_tab",{action_type:"customer_chat_bot_menu_postback_clicked"})};return i.jsx(b("Link.react"),{className:"_6d48",onClick:d,style:{color:g},children:a.title})};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginBotMenuButton.react",["csx","cx","AsyncRequest","LiveChatPluginBotMenuButtonSVG.react","LiveChatPluginBotMenuDialog.react","LiveChatPluginContext","LiveChatPluginGuestPersistentMenuQuery","LiveChatPluginLoggerUtil","MessengerContextualDialog.react","Parent","React","ReactDOM","ShimButton.react","Style","XMessengerBotsMenuController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={flyoutOpen:!1,menuItems:null},d.$4=function(){d.setState(function(a){return{flyoutOpen:!a.flyoutOpen}},d.$8),d.props.onClick()},d.$7=function(){d.setState({flyoutOpen:!1})},d.$6=function(){d.state.flyoutOpen&&d.$3()},d.$8=function(){var a=d.context.state,c=a.viewerID,e=a.pageID;a=a.isAnonymousViewer;b("LiveChatPluginLoggerUtil").logAction(d.state.flyoutOpen?"customer_chat_bot_menu_opened":"customer_chat_bot_menu_closed",c,e);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",c,e,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:d.state.flyoutOpen?"customer_chat_bot_menu_opened":"customer_chat_bot_menu_closed"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.menuItems==null&&this.$2()};d.componentDidUpdate=function(){this.state.menuItems==null&&this.context.state.sessionKey&&this.$2()};d.componentWillUnmount=function(){this.$1&&(this.$1.abort(),this.$1=null),this.state.flyoutOpen&&this.$3()};d.render=function(){return this.context.state.hasMenu&&i.jsxs(b("ShimButton.react"),{className:"_661n",onClick:this.$4,ref:"botMenuContainer",children:[i.jsx(b("LiveChatPluginBotMenuButtonSVG.react"),{threadColor:this.context.state.threadColor}),this.$5()]})};d.$5=function(){var a=this;return!this.state.flyoutOpen||!this.state.menuItems?null:i.jsx(b("MessengerContextualDialog.react"),{alignment:"right",contextRef:function(){return a.refs.botMenuContainer},hideOnBlur:!0,onBeforeHide:this.$6,position:"above",ref:function(c){if(a.props.isMobile&&c){c=b("Parent").bySelector(b("ReactDOM").findDOMNode(c),"._1r_9");var d=window.innerWidth<310?window.innerWidth-10:300;b("Style").set(c,"max-width",d+"px");b("Style").set(c,"-webkit-tap-highlight-color","transparent")}},shown:this.state.flyoutOpen,width:window.innerWidth<310?window.innerWidth-10:300,children:i.jsx(b("LiveChatPluginBotMenuDialog.react"),{closeDialogFn:this.$7,menuItems:this.state.menuItems})})};d.$2=function(){var a=this,c=this.context,d=c.state,e=c.dispatchAction;c=d.pageID;var f=d.isAnonymousViewer,g=d.sessionKey;d=d.hasMenu;if(f&&g)b("LiveChatPluginGuestPersistentMenuQuery").fetch(c,g,function(b){b!=null&&b.length>0?(a.setState({menuItems:b}),e({type:"TOGGLE_HAS_MENU",hasMenu:!0})):(a.setState({menuItems:[]}),e({type:"TOGGLE_HAS_MENU",hasMenu:!1}))});else if(d&&!f){c=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",this.context.state.pageID).getURI();this.$1=new(b("AsyncRequest"))().setURI(c).setHandler(function(b){a.setState({menuItems:b.payload.menu})}).setErrorHandler(function(b){a.setState({menuItems:[]})});this.$1.send()}};d.$3=function(){this.setState({flyoutOpen:!1},this.$8)};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginLikeButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("svg",{height:"24px",preserveAspectRatio:"xMinYMax meet",viewBox:"0 0 40.16 42.24",width:"22px",children:g.jsx("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:"none",fillRule:"evenodd",stroke:this.props.threadColor,strokeLinecap:"round",strokeWidth:"2"})})};return b}(g.PureComponent);e.exports=a}),null);
__d("LiveChatPluginMessageComposer.react",["cx","fbt","AbstractTextInput.react","Keys","LiveChatPluginAttachmentInput.react","LiveChatPluginAttachmentUploadError","LiveChatPluginBotMenuButton.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginLikeButtonSVG.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposerAttachmentShelf.react","LiveChatPluginSendButtonSVG.react","MercuryIDs","MercuryMessageActions","MercuryMessageObject","React","ShimButton.react","StickerConstants"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.state={attachmentsDataMap:new Map(),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:"",uploadingAttachments:new Set()};e.$20=function(a){e.props.onChange(),e.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:a.target.value})};e.$21=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),e.$18())};e.$18=function(){e.context.state.isGuestLoginSupported&&(e.context.state.sessionKey||e.context.state.isAnonymousViewer)?e.$22():e.$23()};e.$19=function(){var a=e.context.state,c=a.viewerID,d=a.pageID;a=a.isAnonymousViewer;var f=e.$7.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,"source:discovery:customer_chat_plugin",e.$8,e.$9);f.is_like_preview=!0;e.$6.send(f);e.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:""});b("LiveChatPluginLoggerUtil").logAction("customer_chat_like_button_clicked",c,d);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",c,d,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:"customer_chat_like_button_clicked"})};e.$11=function(a){e.$2&&e.$2.removeAttachment(a)};e.$16=function(a){e.setState({error:a})};e.$17=function(a,c,d,f,g,h){d&&(e.$1=d),f&&(e.$3=f),g&&(e.$4=g),h&&(e.$10=h),e.setState({attachmentsDataMap:new Map(a),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,uploadingAttachments:new Set(c)}),e.focus()};c=e.context.state;d=c.viewerID;c=c.pageID;e.$6=b("MercuryMessageActions").getForFBID(d);e.$7=b("MercuryMessageObject").getForFBID(d);e.$8=b("MercuryIDs").getThreadIDFromUserID(c);e.$9=b("LiveChatPluginLoggerUtil").getAttributionTags();e.$1=[];e.$3=[];e.$4=[];e.$10=[];return e}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_336a"+(this.context.state.disableInput?" _664i":""),children:[i.jsx(b("LiveChatPluginMessageComposerAttachmentShelf.react"),{attachments:this.state.attachmentsDataMap,error:this.state.error,removeAttachment:this.$11,threadColor:this.context.state.threadColor,uploadingAttachments:this.state.uploadingAttachments}),i.jsxs("div",{className:"_4zbw",children:[this.$12(),this.$13(),i.jsxs("div",{className:"_kmd",children:[this.$14(),this.$15()]})]})]})};d.$14=function(){var a=this;return this.props.isMobile||this.context.state.disableInput||this.context.state.isAnonymousViewer?null:i.jsx(b("LiveChatPluginAttachmentInput.react"),{pageID:this.context.state.pageID,ref:function(b){a.$2=b},setComposerAttachmentError:this.$16,updateComposerAttachmentsAndIDs:this.$17,viewerID:this.context.state.viewerID})};d.$15=function(){if(this.context.state.disableInput)return null;if(this.context.state.isAnonymousViewer&&!this.context.state.sessionKey)return null;if(this.state.inputValue.length>0||this.state.attachmentsDataMap.size>0||this.context.state.isAnonymousViewer){var a=this.state.inputValue.length===0&&this.state.attachmentsDataMap.size===0;return i.jsx(b("ShimButton.react"),{className:(a?"":"_4bqf")+" _64mk _64ml"+(a?" _8pz4":""),onClick:this.$18,children:i.jsx(b("LiveChatPluginSendButtonSVG.react"),{threadColor:a?b("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT:this.context.state.threadColor})})}else return i.jsx(b("ShimButton.react"),{className:"_4bqf _64mk _68t0",onClick:this.$19,children:i.jsx(b("LiveChatPluginLikeButtonSVG.react"),{threadColor:this.context.state.threadColor})})};d.$13=function(){var a=this,c=this.context.state,d=c.pageName;c=c.disableInput;if(c)return i.jsx("div",{className:"_664k",children:h._("{page name} ha desactivado el texto.",[h._param("page name",d)])});return this.context.state.isAnonymousViewer&&!this.context.state.sessionKey?i.jsx("div",{className:"_664k",children:h._("Cargando...")}):i.jsx("div",{className:"_4fwe",children:i.jsx(b("AbstractTextInput.react"),{onBlur:this.props.onBlur,onChange:this.$20,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:this.$21,ref:function(b){a.$5=b},placeholder:h._("Escribe un mensaje...").toString(),value:this.state.inputValue})})};d.$12=function(){return i.jsx(b("LiveChatPluginBotMenuButton.react"),{isMobile:this.props.isMobile,onClick:this.props.onClick})};d.$22=function(){var a=this.context.state;if(!a.messageStore||!a.messageStore.sendQueue)return;var c=a.messageStore.sendQueue,d=this.state.inputValue.trim();d&&d.length>0&&c.enqueueAndSend(d,null);this.setState({inputValue:""});b("LiveChatPluginLoggerUtil").logNewAction("message_send",a.viewerID,a.pageID,"guest_chat_tab")};d.$23=function(){var a=this.context.state,c=a.viewerID;a=a.pageID;if(this.state.uploadingAttachments.size!==0)return;var d=this.state.inputValue.trim();if(d&&d.length>0||this.state.attachmentsDataMap.size>0){d=this.$7.constructUserGeneratedMessageObject(d,"source:discovery:customer_chat_plugin",this.$8,null,null,this.$9);this.$4.length>0&&(d.has_attachment=!0,d.image_ids=this.$4);this.$1.length>0&&(d.has_attachment=!0,d.gif_ids=this.$1);this.$10.length>0&&(d.has_attachment=!0,d.video_ids=this.$10);this.$3.length>0&&(d.has_attachment=!0,d.file_ids=this.$3);this.$6.send(d);this.setState({inputValue:""});this.$24();b("LiveChatPluginLoggerUtil").logActionDEPRECATED("message_sent",c,a,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null);b("LiveChatPluginLoggerUtil").logAction("customer_chat_message_sent",c,a,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null);b("LiveChatPluginLoggerUtil").logNewAction("message_send",c,a,"logged_in_chat_tab")}};d.$24=function(){this.$2&&this.$2.removeAllAttachments()};d.focus=function(){this.$5&&this.$5.focusInput()};return c}(i.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginMobilePrompt.react",["ix","cx","Image.react","LiveChatPluginContext","LiveChatPluginFbts","LiveChatPluginLoggerUtil","PluginDOMEventListener","React","ReactDOM","ShimButton.react","asset","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=24,k=24;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.greetingTextRef=i.createRef(),d.promptRef=i.createRef(),d.$2=function(){var a=d.context.state,c=a.viewerID;a=a.pageID;d.props.onClick();b("LiveChatPluginLoggerUtil").logAction("customer_chat_mobile_redesign_prompt_clicked",c,a);b("LiveChatPluginLoggerUtil").logNewAction("tab_click",c,a,"plugin_icon",null)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("setTimeout")(function(){a.$1()},750);var c=this.context.state,d=c.pageID,e=c.pluginMountTime;c=c.serverTime;var f=b("ReactDOM").findDOMNode(this.promptRef.current);f!=null&&b("PluginDOMEventListener").add(f,"click",function(a){});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_mobile_redesign_prompt_rendered",d,null,null,null,null,e,c)};d.componentDidUpdate=function(a){var b=this.context.state.isLoggedIn;(b&&a.loggedInGreeting!==this.props.loggedInGreeting||!b&&a.loggedOutGreeting!==this.props.loggedOutGreeting)&&this.$1()};d.render=function(){return i.jsxs("div",{ref:this.promptRef,className:"_6i-7",children:[i.jsx(b("ShimButton.react"),{className:"_6lg-",onClick:this.props.onCloseButtonClick,children:i.jsx(b("Image.react"),{src:g("491580")})}),i.jsx(b("ShimButton.react"),{onClick:this.$2,children:this.$3()})]})};d.$1=function(){var a=b("ReactDOM").findDOMNode(this.greetingTextRef.current);if(a!=null&&a instanceof HTMLElement){a=a.offsetHeight+j+k;this.props.anchorIframeResizeFn(a,a)}};d.$3=function(){var a=this.context.state,c=a.pageName;a=a.isLoggedIn;a?this.props.loggedInGreeting!=null?a=this.props.loggedInGreeting:a=b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT:this.props.loggedOutGreeting!=null?a=this.props.loggedOutGreeting:a=b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT;return i.jsxs("div",{className:"_6i-8",ref:this.greetingTextRef,children:[i.jsx("div",{className:"_6i-9",children:c}),i.jsx("div",{children:a})]})};return c}(i.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LivechatPluginGuestMessageThreadQueryContainer.react",["Arbiter","LiveChatPluginConstants","LiveChatPluginLoggerUtil","React","RelayModern","getLiveChatPluginGuestUserRelayEnvironment","LivechatPluginGuestMessageThreadQueryContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=g!==void 0?g:g=b("LivechatPluginGuestMessageThreadQueryContainerQuery.graphql");function a(a){var c=a.pageID;return h.jsx(i,{environment:b("getLiveChatPluginGuestUserRelayEnvironment")(),query:j,variables:{data:{page_id:c}},render:function(a){var d=a.error;a=a.props;if(d){b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_guest_message_list_fetch_failed",c,JSON.stringify({error:d}),null,null,null);return}b("Arbiter").inform(b("LiveChatPluginConstants").UPDATE_MESSAGE_LIST,a);return h.jsx("div",{})}})}e.exports=a}),null);
__d("LiveChatPluginDialogContainer.react",["cx","AsyncRequest","JSResource","LiveChatPluginAnonymousUserPrompt.react","LiveChatPluginContext","LiveChatPluginDialogHeader.react","LivechatPluginGuestMessageThreadQueryContainer.react","LiveChatPluginLoggedInMobileInterstitial.react","LiveChatPluginLoggedInUserPrompt.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposer.react","LiveChatPluginMobilePrompt.react","MercuryIDs","MercuryThreadActions","MessengerSpinner.react","MessengerState.bs","MPNXDMessageManager","React","ReactCSSTransitionGroup","ReactDOM","UnverifiedXD","UserAgent","XMNLiveChatBlockMessageController","XMNLiveChatUnblockMessageController","emptyFunction","lazyLoadComponent","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("MercuryThreadActions").get(),j=b("MessengerState.bs").jsComponent,k=b("React"),l=b("lazyLoadComponent")(b("JSResource")("LiveChatPluginDialogBody.react").__setRef("LiveChatPluginDialogContainer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={chatPromptHeight:-1,dialogBodyHeight:-1,informationViewOpen:!1,isPageBlocked:!1};d.$8=function(a,c){d.setState({chatPromptHeight:c}),b("MPNXDMessageManager").resizeIframe(a.toString())};d.$4=function(){var a=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),c=b("ReactDOM").findDOMNode(d.$3),e=b("ReactDOM").findDOMNode(d.$1);if(a&&a instanceof HTMLElement&&c&&c instanceof HTMLElement&&e&&e instanceof HTMLElement){a=a.getBoundingClientRect().height-c.getBoundingClientRect().height-e.getBoundingClientRect().height;a!==d.state.dialogBodyHeight&&d.setState({dialogBodyHeight:a})}};d.$17=function(){var a=d.context.state,b=a.isLoggedIn,c=a.canSkipContinuousAs,e=a.refererUri,f=a.refParam,g=a.viewerID;a=a.isGuestLoginSupport;d.props.onMobilePromptClick&&d.props.onMobilePromptClick(b,c,e,g,a,f)};d.$11=function(){var a=d.context.state,c=a.pageID;a=a.viewerID;var e=b("XMNLiveChatBlockMessageController").getURIBuilder().setString("page_id",c).getURI();d.setState({isPageBlocked:!0});new(b("AsyncRequest"))().setURI(e).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction("customer_chat_block_message_clicked",a,c);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",a,c,"logged_in_chat_tab",{action_type:"customer_chat_block_message_clicked"})};d.$13=function(){var a=d.context.state,c=a.pageID;a=a.viewerID;var e=b("XMNLiveChatUnblockMessageController").getURIBuilder().setString("page_id",c).getURI();d.setState({isPageBlocked:!1});new(b("AsyncRequest"))().setURI(e).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction("customer_chat_unblock_message_clicked",a,c);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",a,c,"logged_in_chat_tab",{action_type:"customer_chat_unblock_message_clicked"})};d.$12=function(){d.setState(function(){return{informationViewOpen:!1}})};d.$10=function(){d.setState(function(a){return{informationViewOpen:!a.informationViewOpen}},d.$18)};d.$18=function(){var a=d.context.state,c=a.pageID,e=a.viewerID;a=a.isAnonymousViewer;b("LiveChatPluginLoggerUtil").logAction(d.state.informationViewOpen?"customer_chat_information_button_opened":"customer_chat_information_button_closed",e,c);b("LiveChatPluginLoggerUtil").logNewAction("in_thread_action",e,c,a?"guest_chat_tab":"logged_in_chat_tab",{action_type:d.state.informationViewOpen?"customer_chat_information_button_opened":"customer_chat_information_button_closed"})};d.$2=(h||(h=b("performanceAbsoluteNow")))();return d}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.context.state,d=c.isLoggedIn,e=c.chatStarted,f=c.hasMessagingPermission;c=c.isMobile;c&&e&&f&&window.addEventListener("resize",this.$4);if(e&&f&&d){e=b("ReactDOM").findDOMNode(this);e&&e instanceof HTMLElement&&(e.addEventListener("click",function(){a.$5()}),c||e.addEventListener("click",function(){a.$6()}))}};d.render=function(){var a=this,c=this.context.state,d=c.isLoggedIn,e=c.hasMessagingPermission,f=c.chatStarted,g=c.viewerID,h=c.isMobile,i=c.isGuestLoginSupported,m=c.isAnonymousViewer;if(h&&!f)return this.$7();!f||!e?(c=!0,f=d?k.jsx(b("LiveChatPluginLoggedInUserPrompt.react"),{anchorIframeResizeFn:this.$8,hasMessagingPermission:e,onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:function(){a.$9(i?"welcome_page_with_guest_option":"welcome_page")},onContinueAsGuestClick:this.props.onContinueAsGuestClick},"logged_in_prompt"):k.jsx(b("LiveChatPluginAnonymousUserPrompt.react"),{anchorIframeResizeFn:this.$8,onCloseButtonClick:function(){a.$9(i?"welcome_page_with_guest_option":"welcome_page")},onContinueAsGuestClick:this.props.onContinueAsGuestClick},"anonymous_prompt")):d?(c=!1,f=k.jsxs("div",{className:"_3gog"+(h?"":" _6ati")+(h?" _6atj":""),style:h?null:{borderRadius:"9pt"},children:[k.jsx(b("LiveChatPluginDialogHeader.react"),{informationViewOpen:this.state.informationViewOpen,onCloseButtonClick:function(){a.$9(m?"guest_chat_tab":"logged_in_chat_tab")},onInformationButtonClick:this.$10,ref:function(b){return a.$3=b}}),k.jsx("div",{className:"_424s",children:k.jsxs(k.Suspense,{fallback:k.jsx("div",{className:"spinner",children:k.jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),children:[k.jsx(j,{fbid:g,children:function(c){return k.jsx(l,{blockMessage:a.$11,deliveryReceipt:b("MessengerState.bs").deliveryReceipts(c),dialogBodyHeight:a.state.dialogBodyHeight,fromTime:a.$2,isPageBlocked:a.state.isPageBlocked,informationViewOpen:a.state.informationViewOpen,messengerState:c,onClick:a.$12,readReceipt:a.props.readReceipt,unblockMessage:a.$13,sendRef:a.props.sendRef})}}),this.context.state.sessionKey?k.jsx(b("LivechatPluginGuestMessageThreadQueryContainer.react"),{pageID:this.context.state.pageID}):null]})}),k.jsx(b("LiveChatPluginMessageComposer.react"),{isMobile:h,onBlur:this.$14()?this.$15:b("emptyFunction"),onChange:this.$12,onClick:this.$12,onFocus:this.$14()?this.$16:b("emptyFunction"),ref:function(b){return a.$1=b}})]},"dialog_container")):(f=null,c=!1);e=this.state.chatPromptHeight!==-1&&c?{height:this.state.chatPromptHeight}:{};if(!b("UserAgent").isBrowser("IE <= 9")&&!h)return k.jsx("div",{className:(this.state.chatPromptHeight!==-1&&!c?"_6atk":"")+(c?"":" _6atl")+" _6atm",style:e,children:k.jsx(b("ReactCSSTransitionGroup"),{transitionName:{enter:"_6atn",enterActive:"_6ato",leave:"_6atp",leaveActive:"_6atq"},transitionEnterTimeout:200,transitionLeaveTimeout:200,children:f})});else return k.jsx("div",{className:(!c&&!h?"_6atl":"")+(!c&&h?" _6atr":"")+" _6atm",style:e,children:f})};d.$7=function(){var a=this,c=this.context.state,d=c.isLoggedIn,e=c.showInterstitialOnPage,f=c.loggedInGreeting,g=c.loggedOutGreeting,h=c.isGuestLoginSupported;return e&&d?k.jsx(b("LiveChatPluginLoggedInMobileInterstitial.react"),{onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:function(){a.$9(h?"welcome_page_with_guest_option":"welcome_page")},onContinueAsGuestClick:this.props.onContinueAsGuestClick}):k.jsx(b("LiveChatPluginMobilePrompt.react"),{anchorIframeResizeFn:this.$8,loggedInGreeting:f,loggedOutGreeting:g,onClick:this.$17,onCloseButtonClick:function(){a.$9("plugin_icon")}})};d.$15=function(){b("UnverifiedXD").send({type:"liveChatPluginBlurComposer"})};d.$16=function(){b("UnverifiedXD").send({type:"liveChatPluginFocusComposer"})};d.$14=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)};d.$5=function(){i.markRead(b("MercuryIDs").getThreadIDFromUserID(this.context.state.pageID))};d.$6=function(){this.$1&&this.$1.focus()};d.$9=function(a){var c=this.context.state,d=c.chatStarted,e=c.isMobile,f=c.viewerID;c=c.pageID;b("MPNXDMessageManager").clearPromptAndFadeTimer();b("MPNXDMessageManager").updateAppearance(!0,!0,d,e,null);b("LiveChatPluginLoggerUtil").logNewAction("tab_close",f,c,a,null)};return c}(k.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginITPResolver",["CurrentUser","LiveChatPluginConstants","LiveChatPluginUtils"],(function(a,b,c,d,e,f){"use strict";a={resolveITPIfNecessary:function(){if(!b("LiveChatPluginUtils").getIsITPUserAgent())return b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_NO_ITP;var a="c_user=",c=decodeURIComponent(document.cookie);c=c.split(";");var d="0";c.forEach(function(b,c){c=b;while(c.charAt(0)==" ")c=c.substring(1);c.indexOf(a)==0&&(d=c.substring(a.length,c.length))});c=b("CurrentUser").getID();if(c=="0"&&d!="0")return b("LiveChatPluginConstants").ITP_CONSISTENCY_INCONSISTENT;else if(c==d&&c!="0")return b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_LOGGED_IN;else return b("LiveChatPluginConstants").ITP_CONSISTENCY_UNKNOWN_LOGGED_OUT}};e.exports=a}),null);
__d("LiveChatPlugin.react",["cx","Arbiter","AsyncRequest","CreateCustomerChatPluginGuestUserMutation","CurrentUser","LiveChatMqttClient","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginDialogContainer.react","LiveChatPluginITPResolver","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginUtils","MPNXDMessageManager","React","UnverifiedXD","XMNPlatformCustomerChatPluginOpenThreadController","clearInterval","gkx","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.startChat=function(){b("MPNXDMessageManager").clearPromptAndFadeTimer(),b("MPNXDMessageManager").expandIframe(d.context.state.isMobile),!d.context.state.hasMessagingPermission?d.$4(!0):d.$6(),b("setTimeout")(function(){d.context.dispatchAction({type:"TOGGLE_CHAT_STARTED",chatStarted:!0}),d.context.dispatchAction({type:"TOGGLE_HAS_MESSAGING_PERMISSION",hasMessagingPermission:!0}),b("LiveChatPluginLocalStorageUtil").setChatStarted(!0),b("Arbiter").inform(b("LiveChatPluginConstants").RESET_BADGING)},30)},d.$6=function(){var a=d.context.state,c=a.refererUri,e=a.pageID;a=a.refParam;var f=b("LiveChatPluginLocalStorageUtil").getRefSent();if(!f){f=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",e).setString("ref",a).setString("referer_uri",c).setString("request_id",b("LiveChatPluginLocalStorageUtil").getRequestID()).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());f.setAllowCrossPageTransition(!0).setMethod("POST").send();b("LiveChatPluginLocalStorageUtil").setRefSent(!0)}},d.onContinueAsGuestClick=function(){var a=d.context,c=a.state,e=a.dispatchAction,f=c.pageID;a=c.error;if(a)return;b("UnverifiedXD").send({type:"liveChatPluginExpandDialogIframe",isMobile:!1});e({type:"SET_UP_UI_FOR_GUEST_SESSION",isGuest:!0});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_continue_as_guest_clicked",f,null,null,null,null);c={button_name:"continue_as_guest"};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",null,f,"welcome_page_with_guest_option",c);b("CreateCustomerChatPluginGuestUserMutation").commit({input:{page_id:f}},{onSuccess:function(c){var g,h,a=d.context.state;g=(g=c.create_customer_chat_plugin_guest_user)==null?void 0:g.session_key;h=(h=c.create_customer_chat_plugin_guest_user)==null?void 0:h.fbid;c=(c=c.create_customer_chat_plugin_guest_user)==null?void 0:c.access_token;if(g!=null&&h!=null&&c!=null){var i;(i=b("LiveChatPluginLocalStorageUtil")).init(a.originDomain,a.pageID,a.viewerID,a.requestID);i.setChatStarted(!0);i.setHasGuestSession(!0);i.setSessionInfo(g,h,c);e({type:"UPDATE_SESSION_KEY",sessionKey:g});e({type:"UPDATE_VIEWER_ID",viewerID:h});b("UnverifiedXD").send({type:"liveChatPluginNewGuestSession",sessionKey:g});e({type:"UPDATE_ACCESS_TOKEN",accessToken:c});b("gkx")("1245056")&&b("LiveChatMqttClient").setUp(f,h,null,null,g);i=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",a.pageID).setString("ref",a.refParam).setString("referer_uri",a.originDomain).setString("request_id",b("LiveChatPluginLocalStorageUtil").getRequestID()).setString("access_token",c).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());i.setAllowCrossPageTransition(!0).setMethod("POST").send()}},onFailure:function(a){b("LiveChatPluginLocalStorageUtil").init(d.context.state.originDomain,d.context.state.pageID,d.context.state.viewerID,d.context.state.requestID);var c=a.message.match(/\"error\":([0-9]+)/);c=c&&c.length>=2?c[1]:null;c=JSON.stringify({maybe_error_code:c,domain:d.context.state.originDomain,request_id:d.context.state.requestID,error:a.message});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_guest_account_creation_failed",f,c,null,null,null);b("LiveChatPluginLocalStorageUtil").removeSessionState();b("LiveChatPluginLocalStorageUtil").removeLocalState(d.context.state.originDomain,f,d.context.state.viewerID);e({type:"CLEAR_GUEST_SESSION",isLoggedIn:b("CurrentUser").isLoggedIn(),viewerID:b("CurrentUser").getID()});e({type:"SET_ERROR",error:a})}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.context,d=c.dispatchAction;c=c.state;var e=c.chatStarted,f=c.hasMessagingPermission,g=c.threadColor,h=c.pageID,i=c.isMuted,j=c.isMobile,k=c.reloaded,l=c.greetingDialogDisplay,m=c.greetingDialogDelay,n=c.loggedInGreeting;c=c.loggedOutGreeting;this.$1=!0;!b("CurrentUser").isLoggedIn()&&!this.context.state.isAnonymousViewer&&(d({type:"TOGGLE_CHAT_STARTED",chatStarted:!1}),b("LiveChatPluginLocalStorageUtil").setChatStarted(!1),b("LiveChatPluginLocalStorageUtil").setRefSent(!1));e&&f?(this.$4(!0),b("LiveChatPluginLocalStorageUtil").setChatStarted(!0)):f&&this.$4(!1);this.$3=b("Arbiter").subscribe("Connect.Unsafe.updateCustomerChat",function(b,c){b=a.$5(c.logged_in_greeting);var d=a.$5(c.logged_out_greeting);b!==null&&a.context.dispatchAction({type:"UPDATE_LOGGEDIN_GREETING",loggedInGreeting:b});d!==null&&a.context.dispatchAction({type:"UPDATE_LOGGEDOUT_GREETING",loggedOutGreeting:d});c.ref&&a.context.dispatchAction({type:"UPDATE_REF_PARAM",refParam:c.ref})});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_plugin_loaded",h,JSON.stringify({greetingDialogDisplay:l,greetingDialogDelay:m,isMobile:j,reloaded:k,isDialogHidden:b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),isMuted:i}),g,n,c);b("LiveChatPluginUtils").getIsITPUserAgent()&&(this.$2=b("setInterval")(function(){var c=b("LiveChatPluginITPResolver").resolveITPIfNecessary();c==b("LiveChatPluginConstants").ITP_CONSISTENCY_INCONSISTENT?(location.reload(),b("clearInterval")(a.$2)):(c==b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_LOGGED_IN||c==b("LiveChatPluginConstants").ITP_CONSISTENCY_CONSISTENT_NO_ITP)&&b("clearInterval")(a.$2)},1e3))};d.componentWillUnmount=function(){this.$1=!1,this.$3&&b("Arbiter").unsubscribe(this.$3)};d.render=function(){var a=this.context.state,c=a.chatStarted;a=a.isMobile;return h.jsx("div",{className:"_30ss"+(!a||!c?" _3-8j":""),children:h.jsx(b("LiveChatPluginDialogContainer.react"),{onChatNowClick:this.startChat,onMobilePromptClick:this.props.onMobilePromptClick,readReceipt:this.props.readReceipt,sendRef:this.$6,onContinueAsGuestClick:this.onContinueAsGuestClick})})};d.$4=function(a){var c=this.context.state,d=c.pageID,e=c.viewerID;c=c.isGuestLoginSupported;c||b("LiveChatMqttClient").setUp(d,e,null,a?this.$6:null)};d.$5=function(a){if(a==null||a==="")return null;else if(Array.from(a).length>80)return null;else return a};d.updateShowInterstitialOnPage=function(a){var b=this.context.dispatchAction;this.$1&&b({type:"TOGGLE_SHOW_INTERSTITIAL_ON_PAGE",showInterstitialOnPage:a})};return c}(h.PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginBadgableMessengerIcon.react",["Arbiter","LiveChatPluginBadgeSVG.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginLocalStorageUtil","LiveChatPluginMessengerIconSVGWithColor.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={unreadCount:c.context.state.unreadCount},c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("Arbiter").subscribe(b("LiveChatPluginConstants").UNREAD_COUNT_UPDATE,function(b,c){a.setState({unreadCount:c})})};d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a=this.props.threadColor!=null?g.jsx(b("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor}):g.jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{}),c=null;(!b("LiveChatPluginLocalStorageUtil").getChatStarted()||b("LiveChatPluginLocalStorageUtil").getIsDialogHidden()&&b("LiveChatPluginLocalStorageUtil").getAccessToken()===null)&&(c=g.jsx(b("LiveChatPluginBadgeSVG.react"),{unreadCount:this.state.unreadCount}));return g.jsxs("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",children:[a,c]})};return c}(g.Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"TOGGLE_IS_LOGGED_IN":return babelHelpers["extends"]({},a,{isLoggedIn:b.isLoggedIn});case"TOGGLE_CHAT_STARTED":return babelHelpers["extends"]({},a,{chatStarted:b.chatStarted});case"TOGGLE_HAS_MESSAGING_PERMISSION":return babelHelpers["extends"]({},a,{hasMessagingPermission:b.hasMessagingPermission});case"TOGGLE_HAS_MENU":return babelHelpers["extends"]({},a,{hasMenu:b.hasMenu});case"TOGGLE_IS_ANONYMOUS_VIEWER":return babelHelpers["extends"]({},a,{isAnonymousViewer:b.isAnonymousViewer});case"TOGGLE_SHOW_INTERSTITIAL_ON_PAGE":return babelHelpers["extends"]({},a,{showInterstitialOnPage:b.showInterstitialOnPage});case"UPDATE_VIEWER_ID":return babelHelpers["extends"]({},a,{viewerID:b.viewerID});case"UPDATE_SESSION_KEY":return babelHelpers["extends"]({},a,{sessionKey:b.sessionKey});case"UPDATE_LOGGEDIN_GREETING":return babelHelpers["extends"]({},a,{loggedInGreeting:b.loggedInGreeting});case"UPDATE_LOGGEDOUT_GREETING":return babelHelpers["extends"]({},a,{loggedOutGreeting:b.loggedOutGreeting});case"UPDATE_REF_PARAM":return babelHelpers["extends"]({},a,{refParam:b.refParam});case"SET_UP_UI_FOR_GUEST_SESSION":return babelHelpers["extends"]({},a,{isLoggedIn:b.isGuest,chatStarted:b.isGuest,hasMessagingPermission:b.isGuest,isAnonymousViewer:b.isGuest});case"SET_UP_MESSAGE_STORE":return babelHelpers["extends"]({},a,{messageStore:b.messageStore});case"CLEAR_GUEST_SESSION":return babelHelpers["extends"]({},a,{viewerID:b.viewerID,isLoggedIn:b.isLoggedIn,sessionKey:"",accessToken:"",chatStarted:!1,hasMessagingPermission:!1,isAnonymousViewer:!1});case"SET_ERROR":return babelHelpers["extends"]({},a,{error:b.error});case"UPDATE_ACCESS_TOKEN":return babelHelpers["extends"]({},a,{accessToken:b.accessToken});default:return a}}e.exports=a}),null);
__d("LiveChatPluginStateProvider",["LiveChatPluginContext","LiveChatPluginReducer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("React");var h=a.useReducer;c=function(a){var c=a.initialState;a=a.children;c=h(b("LiveChatPluginReducer"),c);var d=c[0];c=c[1];return g.jsx(b("LiveChatPluginContext").Provider,{value:{dispatchAction:c,state:d},children:a})};e.exports=c}),null);
__d("XMNMessagingPluginGuestSessionValidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/guest/",{page_id:{type:"String",required:!0},access_token:{type:"String",required:!0}})}),null);
__d("LiveChatPluginMount",["Arbiter","AsyncRequest","Bootloader","CurrentUser","LiveChatPlugin.react","LiveChatPluginBadgableMessengerIcon.react","LiveChatPluginConstants","LiveChatPluginErrorBoundary.react","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginStateProvider","LiveChatPluginUtils","Plugin","PluginDOMEventListener","PluginOptin","React","ReactDOM","ShimButton.react","Style","UnverifiedXD","XMNMessagingPluginGuestSessionValidationController","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(){function a(a){var c=this,d=a.serverTime,e=a.autoLaunchOnMWeb,f=a.container,i=a.canSkipContinuousAs,j=a.disableInput,k=a.greetingDialogDisplay,l=a.greetingDialogDelay,m=a.greetingDialogFadeDelay,n=a.hasMenu,o=a.hasMessagingPermission,p=a.initSeqID,q=a.isBusinessActive,r=a.isFacebookApp,s=a.isMuted,t=a.loggedInGreeting,u=a.loggedOutGreeting,v=a.originDomain,w=a.pageID,x=a.pageName,y=a.pageProfilePictureUri,z=a.pageResponsivenessText,A=a.readReceipt,B=a.refererUri,C=a.refParam,D=a.reloaded,E=a.requestID,F=a.soundURLs,G=a.threadCSSColor,H=a.unreadCount,I=a.verifiedStatus,J=a.icebreakers,K=a.isGuestLoginSupported;a=a.isGuestLoginSupportedMobile;this.$2=!1;this.$3=!1;this.$4=!1;this.$8="show";this.$9=0;this.$10=!1;this.$15="";this.$17=!1;this.$18=!1;this.$21=null;this.$33=function(a,e,f,d,g,h){c.$36();var i=c.$11?c.$11:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString(),j=c.$12?c.$12:b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT.toString();a?e?(c.$37(),e=g?"welcome_page_with_guest_option":"welcome_page"):(c.$38(d,f,h,i,j),e=g?"welcome_page_in_new_tab_with_guest_option":"welcome_page_in_new_tab"):(c.$39(f,h,j),e=g?"welcome_page_in_new_tab_with_guest_option":"welcome_page_in_new_tab",c.$39(f,h,j));c.$4&&!a&&location.reload();i={opened_tab:e};b("LiveChatPluginLoggerUtil").logNewAction("tab_click",d,c.$15,"plugin_icon",i)};this.$32=function(a,d){c.$36(),c.$28(),b("LiveChatPluginLoggerUtil").logNewAction("tab_close",a,c.$15,d,null)};this.$29=function(){c.$36(),b("UnverifiedXD").send({type:"liveChatPluginExpandDialogIframe",isMobile:c.$3})};try{var L=(g||(g=b("performanceAbsoluteNow")))();this.$3=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",w,"plugin_ui_entry",L,null,null,E);this.$11=t;this.$12=u;this.$13=K;this.$14=a;this.$4=b("LiveChatPluginUtils").getIsSafari12OrAbove();this.$15=w;this.$16=G;this.$8=k;this.$9=m;this.$17=s;this.$18=D;p||(p=0);var M=b("CurrentUser").isLoggedIn(),N=b("CurrentUser").getID(),O=b("LiveChatPluginLocalStorageUtil").getLocalState(v,w,N)===null;N=this.$22(o,v,w,D,E,N,k,l,i,M,e);M&&this.$19==null&&b("Bootloader").loadModules(["LiveChatPluginAlerts","MercurySyncDeltaHandler"],function(a,c){a.init(N,w,x,F,s,H),c.getForFBID(N),b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:N,seqID:p})},"LiveChatPluginMount");b("UnverifiedXD").send({type:"liveChatPluginPrepareAnchorIframe",chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),dialogHidden:this.$2,isMobile:this.$3,showInterstitialOnPage:this.$10});var P=h.jsx(b("ShimButton.react"),{onClick:function(){c.$23(M,i,B,C,N,K)},style:{cursor:"pointer",outline:"none"},children:h.jsx(b("LiveChatPluginBadgableMessengerIcon.react"),{threadColor:G})});window.addEventListener("message",function(a){if(a.data.name==="bubbleFrameLoaded"){try{var d=parent.frames[a.data.frameName];c.$1=d;c.$24(d,M);b("ReactDOM").render(P,d.document.body);b("Style").set(d.document.body,"margin","0");c.$25(H,o);d=M?t!=null?t:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString():u!=null?u:b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT.toString();b("LiveChatPluginLoggerUtil").logNewImpressionEvents("tab_impression",w,"plugin_icon",L,null,d,c.$21,c.$21!=null?b("LiveChatPluginLocalStorageUtil").getRequestID():null)}catch(c){b("LiveChatPluginLoggerUtil").logNewImpressionExceptions("tab_load_failure",w,"plugin_icon",c.name,c.message,c.stack,{bubbleOrigin:(d=parent)==null?void 0:(d=d.frames[a==null?void 0:(d=a.data)==null?void 0:d.frameName])==null?void 0:(d=d.location)==null?void 0:d.origin,mainOrigin:document.location.origin})}c.$26(l,k,m,O)}else if(a.data.name==="CustomerChat.isDialogHidden")a.data.params.is_dialog_hidden!=null&&(c.$2=a.data.params.is_dialog_hidden,b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(c.$2),b("Arbiter").inform(b("LiveChatPluginConstants").RESET_BADGING));else if(a.data.name==="CustomerChat.SDK.Called"){d=b("LiveChatPluginLoggerUtil").EVENTMAP[a.data.event];d&&c.$27(d)}},!1);b("Arbiter").subscribe(b("LiveChatPluginConstants").GUEST_MODE_CONNECT,function(){c.$7&&c.$7.onContinueAsGuestClick(),c.$2&&c.$28(),c.$29()});window.addEventListener("storage",function(a){var c=b("LiveChatPluginLocalStorageUtil").getStorageKeyForGuestSession();if(a.key!==c)return;c=JSON.parse(a.newValue||"{}");a=JSON.parse(a.oldValue||"{}");if(((a=a.sessions)==null?void 0:a.sessionKey)==((a=c.sessions)==null?void 0:a.sessionKey))return;((a=c.session)==null?void 0:a.sessionKey)==null&&location.reload()});var Q=null;A&&A.get("watermark")&&A.get("action")&&(Q={watermark:Number(A.get("watermark")),action:Number(A.get("action"))});A={pageID:w,icebreakers:J,isGuestLoginSupported:K,pageName:x,isBusinessActive:q,isMuted:s,unreadCount:H,verifiedStatus:I,disableInput:j,isLoggedIn:b("CurrentUser").isLoggedIn(),hasMessagingPermission:o,chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),hasMenu:n,greetingDialogDelay:l,greetingDialogDisplay:k,loggedInGreeting:t,loggedOutGreeting:u,reloaded:D,pageProfilePictureUri:y,isMobile:this.$3,autolaunchInternal:e,viewerID:N,originDomain:v,requestID:E,pageResponsivenessText:z,refParam:C,threadColor:G?G:"#0084FF",error:null,isFacebookApp:r,canSkipContinuousAs:i,refererUri:B,isGuestLoginSupportedMobile:a,showInterstitialOnPage:this.$10,pluginMountTime:L,serverTime:d};if(this.$19&&this.$20){A=babelHelpers["extends"]({},A,{accessToken:this.$20,sessionKey:this.$19,hasMessagingPermission:!0,chatStarted:!0,isAnonymousViewer:!0,isLoggedIn:!0});b("LiveChatPluginLocalStorageUtil").setHasGuestSession(!0);J=b("XMNMessagingPluginGuestSessionValidationController").getURIBuilder().setString("page_id",w).setString("access_token",this.$20).getURI();new(b("AsyncRequest"))().setURI(J).setHandler(function(a){(!a.payload||!a.payload.valid)&&c.$30(v,w,N)}).setErrorHandler(function(a){c.$30(v,w,N)}).send()}b("ReactDOM").render(h.jsx(b("LiveChatPluginErrorBoundary.react"),{pageID:w,children:h.jsx(b("LiveChatPluginStateProvider"),{initialState:A,children:h.jsx(b("LiveChatPlugin.react"),{anchorIframeResizeFn:this.$31,onChatNowClick:this.$29,onCloseButtonClick:this.$32,onMobilePromptClick:this.$33,readReceipt:Q,ref:function(a){return c.$7=a}})})}),f);this.$25(H,o);b("LiveChatPluginLoggerUtil").logTTI(w,L)}catch(a){b("LiveChatPluginLoggerUtil").logImpressionExceptions("customer_chat_plugin_load_failed",w,a.name,a.message,a.stack)}}var c=a.prototype;c.$26=function(a,b,c,d){var e=this;if(!d)return;d=!1;switch(b){case"fade":d=!this.$3&&a>0;break;case"show":d=a>0;break;case"unset":d=this.$3?!1:a>0;break;case"hide":break;default:break}if(!d)return;this.$6=window.setTimeout(function(){e.$34(c)},a)};c.$27=function(a){b("LiveChatPluginLoggerUtil").logImpressionEvents(a,this.$15,JSON.stringify({greetingDialogDisplay:this.$8,greetingDialogDelay:this.$9,isMobile:this.$3,reloaded:this.$18,isDialogHidden:b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),isMuted:this.$17}),this.$16,this.$11,this.$12)};c.$34=function(a){var b=this;this.$2&&(this.$28(),a&&(this.$5=window.setTimeout(function(){b.$2||b.$28()},a)))};c.$31=function(a){b("UnverifiedXD").send({type:"liveChatPluginResizeIframeVariableHeight",height:a})};c.$25=function(a,c){if(this.$1){b("UnverifiedXD").send({type:"liveChatPluginShowBubbleIframe",dialogHidden:this.$2,showBadge:a>0&&(b("LiveChatPluginLocalStorageUtil").getChatStarted()?this.$2:c)});return}b("UnverifiedXD").send({type:"liveChatPluginGetBubbleIframe",fromIframe:window.name})};c.$35=function(a,c){this.$36();this.$28();var d=b("LiveChatPluginLocalStorageUtil").getChatStarted(),e;d?e=this.$2?"customer_chat_chat_dialog_closed":"customer_chat_chat_dialog_opened":e=this.$2?"customer_chat_chat_now_prompt_closed":"customer_chat_chat_now_prompt_opened";d={action:this.$2?"close":"open",opened_tab:d?this.$19&&this.$20?"guest_chat_tab":"logged_in_chat_tab":c?"welcome_page_with_guest_option":"welcome_page"};b("LiveChatPluginLoggerUtil").logAction(e,a,this.$15);b("LiveChatPluginLoggerUtil").logNewAction("tab_click",a,this.$15,"plugin_icon",d)};c.$37=function(){var a=this;b("UnverifiedXD").send({type:"liveChatPluginShowInterstitialOnPage",dialogHidden:this.$2});window.setTimeout(function(){a.$7&&a.$7.updateShowInterstitialOnPage(!0)},150);this.$2=!1;b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(this.$2)};c.$38=function(a,c,d,e,f){var g=this;this.$2||(this.$28(),this.$2=!0,b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(this.$2));new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:this.$15,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1,greeting_text:e,ref_param:d}).start();b("Arbiter").subscribe(b("Plugin").CONNECT,function(){g.$7&&g.$7.startChat(),g.$2&&g.$28()});b("Arbiter").subscribe(b("LiveChatPluginConstants").SWITCH_ACCOUNT,function(){g.$40(a,c,f),g.$2||g.$28()})};c.$39=function(a,c,d){this.$2||this.$28(),new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.$15,switch_user:!1,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),greeting_text:d,ref_param:c}).addReturnParams({customer_chat_origin_uri:a,referer_uri:a}).start()};c.$28=function(){b("UnverifiedXD").send({type:this.$2?"liveChatPluginShowDialogIframe":"liveChatPluginHideDialogIframe",chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),isMobile:this.$3})};c.$23=function(a,c,d,e,f,g){this.$3&&!b("LiveChatPluginLocalStorageUtil").getChatStarted()?this.$33(a,c,d,f,g,e):this.$35(f,g)};c.$24=function(a,c){a&&a.document&&!c&&this.$4&&(a.document.body&&b("PluginDOMEventListener").add(a.document.body,"click",function(){}))};c.$40=function(a,c,d){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.$15,switch_user:!0,greeting_text:d,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID()}).addReturnParams({referer_uri:c}).start(),b("LiveChatPluginLoggerUtil").logAction("customer_chat_not_you_clicked",a,this.$15)};c.$36=function(){this.$6&&window.clearTimeout(this.$6),this.$5&&window.clearTimeout(this.$5)};c.$22=function(a,c,d,e,f,g,h,i,j,k,l){e&&(this.$21=f,b("LiveChatPluginLocalStorageUtil").init(c,d,"0",f),f=b("LiveChatPluginLocalStorageUtil").getRequestID(),b("LiveChatPluginLocalStorageUtil").removeLocalState(c,d,g));b("LiveChatPluginLocalStorageUtil").init(c,d,g,f);var m=b("LiveChatPluginLocalStorageUtil").getSessionKeyIfNotExpired();if(m!=null){this.$2=!1;this.$10=!1;this.$19=m;this.$20=b("LiveChatPluginLocalStorageUtil").getAccessToken();m=b("LiveChatPluginLocalStorageUtil").getSessionFBID();return(m=m)!=null?m:g}else b("LiveChatPluginLocalStorageUtil").getHasGuestSession()&&b("LiveChatPluginLocalStorageUtil").removeLocalState(c,d,g);m=b("LiveChatPluginLocalStorageUtil").getLocalState(c,d,g);!m?(e?this.$2=!1:h!=="unset"?(this.$2=h==="hide"||i>0,this.$10=j&&k):this.$2=this.$3?!1:i>0,b("LiveChatPluginLocalStorageUtil").setLocalState(c,d,g,{chatStarted:e||l,isDialogHidden:this.$2,requestID:f,refSent:!1,hasGuestSession:!1,session:null})):(this.$2=this.$3?b("LiveChatPluginLocalStorageUtil").getChatStarted():b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),this.$10=!1,!a&&this.$20==null&&(b("LiveChatPluginLocalStorageUtil").setChatStarted(!1),b("LiveChatPluginLocalStorageUtil").setRefSent(!1)),b("LiveChatPluginLocalStorageUtil").setRequestID(f));return g};c.$30=function(a,c,d){b("LiveChatPluginLocalStorageUtil").removeSessionState(),b("LiveChatPluginLocalStorageUtil").removeLocalState(a,c,d),location.reload()};return a}();e.exports=a}),null);